<script setup lang="ts">
import FormComment from "~/components/comment/CommentView.vue";
const route = useRoute();
const dataStore = dataInit();
const updateToggle = ref(false);
const targetData = dataStore.filterLocalDataList(Number(route.params.id));

const AsyncForm = defineAsyncComponent({
  loader: () => import("../../components/Form.vue"),
});

const AsyncContent = defineAsyncComponent({
  loader: () => import("../../components/PostContent.vue"),
});

const AsyncUpdateBtn = defineAsyncComponent({
  loader: () => import("../../components/AsyncButton/UpdateBtn.vue"),
});

const AsyncDeleteBtn = defineAsyncComponent({
  loader: () => import("../../components/AsyncButton/DeleteBtn.vue"),
});

const AsyncUploadBtn = defineAsyncComponent({
  loader: () => import("../../components/AsyncButton/UploadBtn.vue"),
});

const AsyncCancleBtn = defineAsyncComponent({
  loader: () => import("../../components/AsyncButton/CancleBtn.vue"),
});

const postProps = {
  updateToggle,
  postContent: targetData[0].content,
  postId: targetData[0].id,
};
</script>

<template>
  <div class="detail-wrap">
    <div class="title-wrap">
      <h5>{{ targetData[0].title }}</h5>
    </div>

    <component
      :is="!updateToggle ? AsyncContent : AsyncForm"
      :post-props="postProps"
    />

    <div class="btn-wrap">
      <!--삭제 버튼 -->
      <AsyncDeleteBtn v-if="!updateToggle" :post-props="postProps" />
      <AsyncUpdateBtn v-if="!updateToggle" />

      <AsyncCancleBtn v-if="updateToggle" />
      <AsyncUploadBtn v-if="updateToggle" />
    </div>

    <FormComment />
  </div>
</template>

<style scoped>
.detail-wrap > .title-wrap {
  position: relative;
}

.detail-wrap > .title-wrap::before {
  content: "";
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  background-image: url("data:image/jpeg;base64,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");
  z-index: -2;
}

.detail-wrap > .title-wrap::after {
  content: "";
  display: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 1;
}

.detail-wrap > .title-wrap > h5 {
  font-size: 3em;
  padding: 70px;
  background-color: rgba(250, 250, 250, 0.7);
  margin: 50px 0px 0px 0px;
}

.detail-wrap > .content-wrap {
  padding: 10px;
  font-size: 21px;
  background-color: rgb(234, 251, 255);
}

.detail-wrap > .btn-wrap {
  display: flex;
  justify-content: flex-end;
  margin-top: 20px;
}

.detail-wrap > .btn-wrap > button:last-child {
  margin-left: 10px;
}
</style>
../../components/PostContent.vue
